<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UrbanMind: Legal Documents Assistance</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/legal.css">
</head>
<body>
<div id="header-container"></div>

<section class="hero" id="home">
    <div class="hero-bg">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
    </div>

    <div class="container hero-content">
        <div class="hero-text fade-in">
            <h1>Legal Documents Assistance</h1>
            <p>Find, understand, and complete migration documents with our comprehensive guides and AI assistance. Navigate complex paperwork with confidence.</p>
            <a href="#search" class="btn-main">Find Documents</a>
        </div>
        <div class="robot-container fade-in">
            <img src="https://cdn.pixabay.com/photo/2020/04/13/20/40/robot-5039668_1280.png" alt="AI Assistant Robot" class="robot-image">
        </div>
    </div>
</section>

<section class="search-section" id="search">
    <div class="search-section-bg">
        <div class="search-circle search-circle-1"></div>
        <div class="search-circle search-circle-2"></div>
    </div>

    <div class="container">
        <h2 class="sections-heading">Find Required Documents</h2>
        <div class="search-container fade-in">
            <form class="search-form" id="search-form">
                <div class="form-group">
                    <label for="search-query">Search for documents</label>
                    <input type="text" class="form-control" id="search-query" placeholder="e.g., visa application form, residence permit, work authorization">
                </div>
                <button type="submit" class="search-button">
                    <i class="fas fa-search"></i> Search Documents
                </button>
            </form>
        </div>

        <div class="document-categories">
            <h2 class="sections-heading">Document Categories</h2>
            <div class="categories-grid">
                <div class="category-card fade-in">
                    <div class="category-icon">
                        <i class="fas fa-passport"></i>
                    </div>
                    <h3>Visa Applications</h3>
                    <p>Tourist, work, student and family reunion visas</p>
                    <div class="category-count">12 documents</div>
                </div>

                <div class="category-card fade-in">
                    <div class="category-icon">
                        <i class="fas fa-id-card"></i>
                    </div>
                    <h3>Residence Permits</h3>
                    <p>Temporary and permanent residence documents</p>
                    <div class="category-count">8 documents</div>
                </div>

                <div class="category-card fade-in">
                    <div class="category-icon">
                        <i class="fas fa-briefcase"></i>
                    </div>
                    <h3>Work Authorization</h3>
                    <p>Employment permits and work-related documents</p>
                    <div class="category-count">6 documents</div>
                </div>

                <div class="category-card fade-in">
                    <div class="category-icon">
                        <i class="fas fa-home"></i>
                    </div>
                    <h3>Registration</h3>
                    <p>Address registration and municipal documents</p>
                    <div class="category-count">5 documents</div>
                </div>

                <div class="category-card fade-in">
                    <div class="category-icon">
                        <i class="fas fa-heartbeat"></i>
                    </div>
                    <h3>Health Insurance</h3>
                    <p>Health coverage forms and insurance documents</p>
                    <div class="category-count">4 documents</div>
                </div>

                <div class="category-card fade-in">
                    <div class="category-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <h3>Education</h3>
                    <p>Student visas and educational institution forms</p>
                    <div class="category-count">7 documents</div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="document-guides">
    <div class="guides-bg"></div>
    <div class="container">
        <h2 class="sections-heading">Document Guides & Templates</h2>
        <div class="guides-container">
            <div class="guide-item fade-in">
                <div class="guide-header">
                    <div class="guide-title">
                        <h3>Application for National Visa (Type D)</h3>
                        <div class="guide-meta">
                            <span><i class="fas fa-flag"></i> Poland</span>
                            <span><i class="fas fa-clock"></i> 30-60 minutes to complete</span>
                        </div>
                    </div>
                    <div class="guide-difficulty difficulty-medium">Medium Difficulty</div>
                </div>
                <div class="guide-content">
                    <p>This application is required for long-term stays in Poland (exceeding 90 days) for purposes such as work, study, or family reunification.</p>
                    <div class="guide-steps">
                        <h4>Filling Instructions:</h4>
                        <ol>
                            <li>Complete personal information section using your passport details</li>
                            <li>Specify the purpose of your stay (work, study, family)</li>
                            <li>Provide details of your intended accommodation in Poland</li>
                            <li>Include information about your financial means</li>
                            <li>Sign and date the application form</li>
                        </ol>
                    </div>
                </div>
                <div class="guide-actions">
                    <a href="#" class="guide-action">
                        <i class="fas fa-download"></i> Download Form
                    </a>
                    <a href="#" class="guide-action secondary">
                        <i class="fas fa-eye"></i> View Sample
                    </a>
                    <a href="#" class="guide-action secondary">
                        <i class="fas fa-question-circle"></i> Get Help
                    </a>
                </div>
            </div>

            <div class="guide-item fade-in">
                <div class="guide-header">
                    <div class="guide-title">
                        <h3>Anmeldung Registration Form</h3>
                        <div class="guide-meta">
                            <span><i class="fas fa-flag"></i> Germany</span>
                            <span><i class="fas fa-clock"></i> 15-30 minutes to complete</span>
                        </div>
                    </div>
                    <div class="guide-difficulty difficulty-easy">Easy Difficulty</div>
                </div>
                <div class="guide-content">
                    <p>Mandatory registration of your address in Germany. Must be completed within 14 days of moving to a new residence.</p>
                    <div class="guide-steps">
                        <h4>Filling Instructions:</h4>
                        <ol>
                            <li>Fill in your personal details exactly as in your passport</li>
                            <li>Provide your complete new German address</li>
                            <li>Include the date you moved into the residence</li>
                            <li>Have your landlord sign the confirmation section</li>
                            <li>Bring original passport and rental contract to appointment</li>
                        </ol>
                    </div>
                </div>
                <div class="guide-actions">
                    <a href="#" class="guide-action">
                        <i class="fas fa-download"></i> Download Form
                    </a>
                    <a href="#" class="guide-action secondary">
                        <i class="fas fa-eye"></i> View Sample
                    </a>
                    <a href="#" class="guide-action secondary">
                        <i class="fas fa-question-circle"></i> Get Help
                    </a>
                </div>
            </div>

            <div class="guide-item fade-in">
                <div class="guide-header">
                    <div class="guide-title">
                        <h3>Application for Residence Card</h3>
                        <div class="guide-meta">
                            <span><i class="fas fa-flag"></i> France</span>
                            <span><i class="fas fa-clock"></i> 45-90 minutes to complete</span>
                        </div>
                    </div>
                    <div class="guide-difficulty difficulty-hard">Hard Difficulty</div>
                </div>
                <div class="guide-content">
                    <p>Required for non-EU citizens planning to stay in France for more than 3 months. This card serves as your residence permit.</p>
                    <div class="guide-steps">
                        <h4>Filling Instructions:</h4>
                        <ol>
                            <li>Complete all personal information sections</li>
                            <li>Attach recent passport-style photographs</li>
                            <li>Provide proof of accommodation in France</li>
                            <li>Include evidence of financial resources</li>
                            <li>Submit health insurance documentation</li>
                            <li>Provide proof of purpose of stay (work contract, enrollment certificate)</li>
                        </ol>
                    </div>
                </div>
                <div class="guide-actions">
                    <a href="#" class="guide-action">
                        <i class="fas fa-download"></i> Download Form
                    </a>
                    <a href="#" class="guide-action secondary">
                        <i class="fas fa-eye"></i> View Sample
                    </a>
                    <a href="#" class="guide-action secondary">
                        <i class="fas fa-question-circle"></i> Get Help
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="ai-assistant" id="ai-assistant">
    <div class="ai-assistant-bg">
        <div class="ai-circle ai-circle-1"></div>
        <div class="ai-circle ai-circle-2"></div>
    </div>

    <div class="container">
        <h2 class="sections-heading">Document Assistant</h2>
        <div class="ai-chat-container fade-in">
            <div class="ai-chat-header">
                <div class="ai-chat-avatar">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="ai-chat-title">
                    <h3>Document Helper</h3>
                    <p>I can help you with document questions</p>
                </div>
            </div>
            <div class="ai-chat-messages" id="chat-messages">
                <div class="message message-ai">
                    <div class="message-bubble">
                        Hello! I'm your document assistant. I can help you find the right forms, understand filling instructions, and answer questions about migration documents. What do you need help with?
                        <div class="quick-actions">
                            <button class="quick-action" data-action="visa">Visa Applications</button>
                            <button class="quick-action" data-action="residence">Residence Permits</button>
                            <button class="quick-action" data-action="work">Work Documents</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="ai-chat-input">
                <input type="text" id="chat-input" placeholder="Ask about documents...">
                <button id="send-button"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>
</section>

<footer class="footer">
    <div class="container">
        <h2>Need Help With Documents?</h2>
        <p>Our AI assistant and comprehensive guides are here to help you complete migration documents correctly.</p>
        <a href="#ai-assistant" class="btn-footer">Ask Document Assistant</a>
    </div>
</footer>

<script>
    fetch('/header.html')
        .then(response => {
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            return response.text();
        })
        .then(html => {
            document.getElementById('header-container').innerHTML = html;
        })
        .catch(error => {
            document.getElementById('header-container').innerHTML =
                `<div style="color: red;">Error loading header: ${error.message}</div>`;
        });


    // Search functionality
    const searchForm = document.getElementById('search-form');
    const searchInput = document.getElementById('search-query');

    searchForm.addEventListener('submit', function(e) {
        e.preventDefault();
        const query = searchInput.value.trim();
        if (query) {
            // In a real application, this would search through documents
            // For demo purposes, we'll just show an alert
            alert(`Searching for documents related to: "${query}"\n\nIn a real application, this would display search results.`);
        }
    });

    // AI Chat functionality
    const chatMessages = document.getElementById('chat-messages');
    const chatInput = document.getElementById('chat-input');
    const sendButton = document.getElementById('send-button');
    const quickActions = document.querySelectorAll('.quick-action');

    // Responses for different topics
    const responses = {
        'visa': {
            message: "I can help with visa applications! Different countries have different requirements. Common visa types include:<ul><li><strong>Tourist Visa</strong> - For short visits</li><li><strong>Work Visa</strong> - For employment</li><li><strong>Student Visa</strong> - For education</li><li><strong>Family Reunification Visa</strong> - To join family members</li></ul>Which type of visa are you interested in?",
            actions: [
                { text: "Work Visa", action: "work-visa" },
                { text: "Student Visa", action: "student-visa" },
                { text: "Tourist Visa", action: "tourist-visa" }
            ]
        },
        'residence': {
            message: "Residence permits allow you to stay in a country long-term. Requirements vary by country but typically include:<ul><li>Proof of financial means</li><li>Health insurance coverage</li><li>Clean criminal record</li><li>Accommodation proof</li><li>Purpose of stay documentation</li></ul>Which country's residence permit are you interested in?",
            actions: [
                { text: "Germany", action: "germany-residence" },
                { text: "Poland", action: "poland-residence" },
                { text: "France", action: "france-residence" }
            ]
        },
        'work': {
            message: "Work authorization documents are required for legal employment. These typically include:<ul><li>Work permit application</li><li>Employment contract</li><li>Employer sponsorship letter</li><li>Qualifications verification</li><li>Labor market test results (in some countries)</li></ul>What specific work document do you need help with?",
            actions: [
                { text: "Work Permit", action: "work-permit" },
                { text: "Blue Card EU", action: "blue-card" },
                { text: "Employer Sponsorship", action: "sponsorship" }
            ]
        },
        'work-visa': {
            message: "For a work visa, you'll typically need:<ul><li>Completed visa application form</li><li>Valid passport</li><li>Passport-sized photographs</li><li>Employment contract or job offer</li><li>Educational qualifications</li><li>Proof of accommodation</li><li>Health insurance proof</li></ul>Some countries also require a labor market test to prove no local candidates are available.",
            actions: [
                { text: "Back to Visas", action: "visa" },
                { text: "Other Documents", action: "default" }
            ]
        },
        'germany-residence': {
            message: "For a German residence permit, you'll need:<ul><li>Completed application form</li><li>Valid passport</li><li>Biometric photos</li><li>Proof of health insurance</li><li>Proof of financial means</li><li>Rental agreement</li><li>Purpose-specific documents (work contract, university admission, etc.)</li></ul>You must apply at the local Foreigners' Office (Ausländerbehörde).",
            actions: [
                { text: "Back to Residence", action: "residence" },
                { text: "Other Documents", action: "default" }
            ]
        },
        'default': {
            message: "I can help you with various migration documents. What specific document or process are you interested in?",
            actions: [
                { text: "Visa Applications", action: "visa" },
                { text: "Residence Permits", action: "residence" },
                { text: "Work Documents", action: "work" }
            ]
        }
    };

    // Add a message to the chat
    function addMessage(text, isUser) {
        const messageDiv = document.createElement('div');
        messageDiv.classList.add('message', isUser ? 'message-user' : 'message-ai');

        const bubbleDiv = document.createElement('div');
        bubbleDiv.classList.add('message-bubble');
        bubbleDiv.innerHTML = text;

        messageDiv.appendChild(bubbleDiv);
        chatMessages.appendChild(messageDiv);

        // Scroll to bottom
        chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    // Add quick action buttons
    function addQuickActions(actions) {
        const quickActionsDiv = document.createElement('div');
        quickActionsDiv.classList.add('quick-actions');

        actions.forEach(action => {
            const button = document.createElement('button');
            button.classList.add('quick-action');
            button.textContent = action.text;
            button.setAttribute('data-action', action.action);
            button.addEventListener('click', () => handleQuickAction(action.action));
            quickActionsDiv.appendChild(button);
        });

        // Add to the last AI message
        const lastMessage = chatMessages.lastElementChild;
        if (lastMessage && lastMessage.classList.contains('message-ai')) {
            lastMessage.querySelector('.message-bubble').appendChild(quickActionsDiv);
        }
    }

    // Handle quick action button clicks
    function handleQuickAction(action) {
        const response = responses[action] || responses.default;
        addMessage(response.message, false);
        addQuickActions(response.actions);
    }

    // Handle sending a message
    function sendMessage() {
        const message = chatInput.value.trim();
        if (message) {
            addMessage(message, true);
            chatInput.value = '';

            // Simulate AI thinking
            setTimeout(() => {
                let response = responses.default;

                // Simple keyword matching
                if (message.toLowerCase().includes('visa')) {
                    response = responses['visa'];
                } else if (message.toLowerCase().includes('residence') || message.toLowerCase().includes('permit')) {
                    response = responses['residence'];
                } else if (message.toLowerCase().includes('work') || message.toLowerCase().includes('employment')) {
                    response = responses['work'];
                } else if (message.toLowerCase().includes('german')) {
                    if (message.toLowerCase().includes('residence')) {
                        response = responses['germany-residence'];
                    }
                }

                addMessage(response.message, false);
                addQuickActions(response.actions);
            }, 1000);
        }
    }

    // Event listeners
    sendButton.addEventListener('click', sendMessage);
    chatInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            sendMessage();
        }
    });

    // Quick action buttons in initial message
    quickActions.forEach(button => {
        button.addEventListener('click', () => {
            const action = button.getAttribute('data-action');
            handleQuickAction(action);
        });
    });

    // Mobile menu toggle
    const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
    const navMenu = document.querySelector('.nav-menu');

    if (mobileMenuBtn) {
        mobileMenuBtn.addEventListener('click', () => {
            navMenu.classList.toggle('active');
            mobileMenuBtn.innerHTML = navMenu.classList.contains('active')
                ? '<i class="fas fa-times"></i>'
                : '<i class="fas fa-bars"></i>';
        });
    }

    // Smooth scrolling for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
</script>
</body>
</html>